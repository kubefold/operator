apiVersion: v1
kind: Namespace
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
    control-plane: controller-manager
  name: kubefold-system
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.2
  name: proteinconformationpredictions.data.kubefold.io
spec:
  group: data.kubefold.io
  names:
    kind: ProteinConformationPrediction
    listKind: ProteinConformationPredictionList
    plural: proteinconformationpredictions
    singular: proteinconformationprediction
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.phase
      name: Phase
      type: string
    - jsonPath: .status.sequencePrefix
      name: Sequence
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              database:
                type: string
              destination:
                properties:
                  s3:
                    properties:
                      bucket:
                        type: string
                      region:
                        type: string
                    required:
                    - bucket
                    - region
                    type: object
                required:
                - s3
                type: object
              job:
                properties:
                  predictionNodeSelector:
                    description: |-
                      A node selector represents the union of the results of one or more label queries
                      over a set of nodes; that is, it represents the OR of the selectors represented
                      by the node selector terms.
                    properties:
                      nodeSelectorTerms:
                        description: Required. A list of node selector terms. The
                          terms are ORed.
                        items:
                          description: |-
                            A null or empty node selector term matches no objects. The requirements of
                            them are ANDed.
                            The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                          properties:
                            matchExpressions:
                              description: A list of node selector requirements by
                                node's labels.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchFields:
                              description: A list of node selector requirements by
                                node's fields.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                          x-kubernetes-map-type: atomic
                        type: array
                        x-kubernetes-list-type: atomic
                    required:
                    - nodeSelectorTerms
                    type: object
                    x-kubernetes-map-type: atomic
                  searchNodeSelector:
                    description: |-
                      A node selector represents the union of the results of one or more label queries
                      over a set of nodes; that is, it represents the OR of the selectors represented
                      by the node selector terms.
                    properties:
                      nodeSelectorTerms:
                        description: Required. A list of node selector terms. The
                          terms are ORed.
                        items:
                          description: |-
                            A null or empty node selector term matches no objects. The requirements of
                            them are ANDed.
                            The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                          properties:
                            matchExpressions:
                              description: A list of node selector requirements by
                                node's labels.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            matchFields:
                              description: A list of node selector requirements by
                                node's fields.
                              items:
                                description: |-
                                  A node selector requirement is a selector that contains values, a key, and an operator
                                  that relates the key and values.
                                properties:
                                  key:
                                    description: The label key that the selector applies
                                      to.
                                    type: string
                                  operator:
                                    description: |-
                                      Represents a key's relationship to a set of values.
                                      Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                    type: string
                                  values:
                                    description: |-
                                      An array of string values. If the operator is In or NotIn,
                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                      the values array must be empty. If the operator is Gt or Lt, the values
                                      array must have a single element, which will be interpreted as an integer.
                                      This array is replaced during a strategic merge patch.
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                required:
                                - key
                                - operator
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                          type: object
                          x-kubernetes-map-type: atomic
                        type: array
                        x-kubernetes-list-type: atomic
                    required:
                    - nodeSelectorTerms
                    type: object
                    x-kubernetes-map-type: atomic
                type: object
              model:
                properties:
                  seeds:
                    items:
                      type: integer
                    type: array
                    x-kubernetes-validations:
                    - message: Value is immutable
                      rule: self == oldSelf
                  volume:
                    properties:
                      selector:
                        description: |-
                          A label selector is a label query over a set of resources. The result of matchLabels and
                          matchExpressions are ANDed. An empty label selector matches all objects. A null
                          label selector matches no objects.
                        properties:
                          matchExpressions:
                            description: matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            items:
                              description: |-
                                A label selector requirement is a selector that contains values, a key, and an operator that
                                relates the key and values.
                              properties:
                                key:
                                  description: key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: |-
                                    operator represents a key's relationship to a set of values.
                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                  type: string
                                values:
                                  description: |-
                                    values is an array of string values. If the operator is In or NotIn,
                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                    the values array must be empty. This array is replaced during a strategic
                                    merge patch.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              required:
                              - key
                              - operator
                              type: object
                            type: array
                            x-kubernetes-list-type: atomic
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: |-
                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      storageClassName:
                        type: string
                    type: object
                  weights:
                    properties:
                      http:
                        type: string
                    required:
                    - http
                    type: object
                required:
                - weights
                type: object
              notify:
                properties:
                  region:
                    type: string
                  sms:
                    items:
                      type: string
                    type: array
                required:
                - region
                type: object
              protein:
                properties:
                  id:
                    items:
                      type: string
                    type: array
                    x-kubernetes-validations:
                    - message: Value is immutable
                      rule: self == oldSelf
                  sequence:
                    type: string
                    x-kubernetes-validations:
                    - message: Value is immutable
                      rule: self == oldSelf
                required:
                - id
                - sequence
                type: object
                x-kubernetes-validations:
                - message: Value is immutable
                  rule: self == oldSelf
              storageClass:
                type: string
            required:
            - database
            - destination
            - protein
            type: object
          status:
            properties:
              error:
                type: string
              phase:
                type: string
              retryCount:
                format: int32
                type: integer
              sequencePrefix:
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.2
  name: proteindatabases.data.kubefold.io
spec:
  group: data.kubefold.io
  names:
    kind: ProteinDatabase
    listKind: ProteinDatabaseList
    plural: proteindatabases
    singular: proteindatabase
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.downloadStatus
      name: Status
      type: string
    - jsonPath: .status.progress
      name: Progress
      type: string
    - jsonPath: .status.size
      name: Size
      type: string
    - jsonPath: .status.totalSize
      name: Total Size
      type: string
    - jsonPath: .status.downloadSpeed
      name: Download Speed
      type: string
    - jsonPath: .status.volumeName
      name: Volume
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              datasets:
                properties:
                  bfd:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  mgyclusters:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  nt:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  pdb:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  pdbseqreq:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  rfam:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  rnacentral:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  uniprot:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                  uniref90:
                    type: boolean
                    x-kubernetes-validations:
                    - message: Dataset can only be enabled. Deletion of dataset is
                        not supported yet
                      rule: self == oldSelf || (self == true && oldSelf == false)
                required:
                - bfd
                - mgyclusters
                - nt
                - pdb
                - pdbseqreq
                - rfam
                - rnacentral
                - uniprot
                - uniref90
                type: object
              volume:
                properties:
                  annotations:
                    additionalProperties:
                      type: string
                    type: object
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                  selector:
                    description: |-
                      A label selector is a label query over a set of resources. The result of matchLabels and
                      matchExpressions are ANDed. An empty label selector matches all objects. A null
                      label selector matches no objects.
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: |-
                            A label selector requirement is a selector that contains values, a key, and an operator that
                            relates the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: |-
                                operator represents a key's relationship to a set of values.
                                Valid operators are In, NotIn, Exists and DoesNotExist.
                              type: string
                            values:
                              description: |-
                                values is an array of string values. If the operator is In or NotIn,
                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced during a strategic
                                merge patch.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                        x-kubernetes-list-type: atomic
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: |-
                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  storageClassName:
                    type: string
                type: object
            type: object
          status:
            properties:
              datasets:
                properties:
                  bfd:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  mgyclusters:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  nt:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  pdb:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  pdbseqreq:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  rfam:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  rnacentral:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  uniprot:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                  uniref90:
                    properties:
                      delta:
                        format: int64
                        type: integer
                      deltaDuration:
                        type: string
                      downloadSpeed:
                        type: string
                      downloadStatus:
                        type: string
                      lastUpdate:
                        format: date-time
                        type: string
                      progress:
                        type: string
                      size:
                        format: int64
                        type: integer
                      totalSize:
                        format: int64
                        type: integer
                    type: object
                type: object
              downloadSpeed:
                type: string
              downloadStatus:
                type: string
              lastUpdate:
                format: date-time
                type: string
              progress:
                type: string
              size:
                type: string
              totalSize:
                type: string
              volumeName:
                type: string
            required:
            - volumeName
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-controller-manager
  namespace: kubefold-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-leader-election-role
  namespace: kubefold-system
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - coordination.k8s.io
  resources:
  - leases
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: kubefold-manager-role
rules:
- apiGroups:
  - ""
  resources:
  - persistentvolumeclaims
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions/finalizers
  verbs:
  - update
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions/status
  verbs:
  - get
  - patch
  - update
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: kubefold-metrics-auth-role
rules:
- apiGroups:
  - authentication.k8s.io
  resources:
  - tokenreviews
  verbs:
  - create
- apiGroups:
  - authorization.k8s.io
  resources:
  - subjectaccessreviews
  verbs:
  - create
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: kubefold-metrics-reader
rules:
- nonResourceURLs:
  - /metrics
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-proteinconformationprediction-admin-role
rules:
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions
  verbs:
  - '*'
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-proteinconformationprediction-editor-role
rules:
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-proteinconformationprediction-viewer-role
rules:
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - data.kubefold.io
  resources:
  - proteinconformationpredictions/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-proteindatabase-admin-role
rules:
- apiGroups:
  - data.kubefold.io
  resources:
  - proteindatabases
  verbs:
  - '*'
- apiGroups:
  - data.kubefold.io
  resources:
  - proteindatabases/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-proteindatabase-editor-role
rules:
- apiGroups:
  - data.kubefold.io
  resources:
  - proteindatabases
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - data.kubefold.io
  resources:
  - proteindatabases/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-proteindatabase-viewer-role
rules:
- apiGroups:
  - data.kubefold.io
  resources:
  - proteindatabases
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - data.kubefold.io
  resources:
  - proteindatabases/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-leader-election-rolebinding
  namespace: kubefold-system
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: kubefold-leader-election-role
subjects:
- kind: ServiceAccount
  name: kubefold-controller-manager
  namespace: kubefold-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
  name: kubefold-manager-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: kubefold-manager-role
subjects:
- kind: ServiceAccount
  name: kubefold-controller-manager
  namespace: kubefold-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: kubefold-metrics-auth-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: kubefold-metrics-auth-role
subjects:
- kind: ServiceAccount
  name: kubefold-controller-manager
  namespace: kubefold-system
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
    control-plane: controller-manager
  name: kubefold-controller-manager-metrics-service
  namespace: kubefold-system
spec:
  ports:
  - name: https
    port: 8443
    protocol: TCP
    targetPort: 8443
  selector:
    app.kubernetes.io/name: kubefold
    control-plane: controller-manager
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: kubefold
    control-plane: controller-manager
  name: kubefold-controller-manager
  namespace: kubefold-system
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: kubefold
      control-plane: controller-manager
  template:
    metadata:
      annotations:
        kubectl.kubernetes.io/default-container: manager
      labels:
        app.kubernetes.io/name: kubefold
        control-plane: controller-manager
    spec:
      containers:
      - args:
        - --metrics-bind-address=:8443
        - --leader-elect
        - --health-probe-bind-address=:8081
        command:
        - /manager
        image: ghcr.io/kubefold/operator:latest
        livenessProbe:
          httpGet:
            path: /healthz
            port: 8081
          initialDelaySeconds: 15
          periodSeconds: 20
        name: manager
        ports: []
        readinessProbe:
          httpGet:
            path: /readyz
            port: 8081
          initialDelaySeconds: 5
          periodSeconds: 10
        resources:
          limits:
            cpu: 500m
            memory: 128Mi
          requests:
            cpu: 10m
            memory: 64Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
        volumeMounts: []
      securityContext:
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      serviceAccountName: kubefold-controller-manager
      terminationGracePeriodSeconds: 10
      volumes: []
